# md2doc é–‹ç™¼æŒ‡å—

## å°ˆæ¡ˆæ¦‚è¿°

md2doc æ˜¯ä¸€å€‹ TypeScript é–‹ç™¼çš„ Markdown å¤šæ ¼å¼è½‰æ›å·¥å…·ï¼Œå¯å°‡ Markdown æ–‡ä»¶è½‰æ›ç‚º Word (.docx) å’Œ PDF æ ¼å¼ã€‚

## å·²å¯¦ç¾åŠŸèƒ½

### âœ… æ ¸å¿ƒå¼•æ“
- **Markdown è§£æå™¨** (`src/core/parser.ts`)
  - æ”¯æ´ CommonMark å’Œ GFM èªæ³•
  - å®Œæ•´çš„ ASTï¼ˆæŠ½è±¡èªæ³•æ¨¹ï¼‰ç”Ÿæˆ
  - æ”¯æ´æ¨™é¡Œã€æ®µè½ã€åˆ—è¡¨ã€è¡¨æ ¼ã€ä»£ç¢¼ã€å¼•ç”¨ç­‰
  
- **åœ–ç‰‡è™•ç†å™¨** (`src/core/image-handler.ts`)
  - æœ¬åœ°åœ–ç‰‡è¼‰å…¥
  - é ç¨‹åœ–ç‰‡ä¸‹è¼‰
  - åœ–ç‰‡æ ¼å¼æª¢æ¸¬
  - Base64 ç·¨ç¢¼

- **Mermaid æ¸²æŸ“å™¨** (`src/core/mermaid-renderer.ts`)
  - åŸºç¤æ¡†æ¶å·²å®Œæˆ
  - Placeholder SVG ç”Ÿæˆ
  - å®Œæ•´ Puppeteer æ•´åˆå¾…å¯¦ç¾

- **ä¸»é¡Œç³»çµ±** (`src/core/theme-loader.ts`)
  - 5 å€‹é è¨­ä¸»é¡Œï¼šdefault, modern, academic, minimal, dark
  - è‡ªè¨‚ä¸»é¡Œæ”¯æ´
  - å­—å‹ã€é¡è‰²ã€é–“è·é…ç½®

### âœ… æ ¼å¼è½‰æ›å™¨
- **Word è½‰æ›å™¨** (`src/converters/word-converter.ts`)
  - ä½¿ç”¨ docx åº«ç”Ÿæˆ .docx æ–‡ä»¶
  - æ”¯æ´æ‰€æœ‰åŸºæœ¬ Markdown å…ƒç´ 
  - ä¸»é¡Œæ¨£å¼æ‡‰ç”¨

- **PDF è½‰æ›å™¨** (`src/converters/pdf-converter.ts`)
  - HTML ç”Ÿæˆå®Œæˆ
  - CSS æ¨£å¼ç³»çµ±
  - Puppeteer PDF ç”Ÿæˆå¾…å¯¦ç¾

### âœ… CLI å·¥å…·
- **å‘½ä»¤åˆ—ä»‹é¢** (`src/cli/index.ts`)
  - `convert` å‘½ä»¤ï¼šè½‰æ›å–®ä¸€æ–‡ä»¶
  - `themes` å‘½ä»¤ï¼šåˆ—å‡ºå¯ç”¨ä¸»é¡Œ
  - æ”¯æ´æ ¼å¼ã€ä¸»é¡Œã€è¼¸å‡ºè·¯å¾‘é¸é …

### âœ… æ¸¬è©¦
- **å–®å…ƒæ¸¬è©¦** (`src/core/parser.test.ts`)
  - 10 å€‹æ¸¬è©¦æ¡ˆä¾‹ï¼Œå…¨éƒ¨é€šé
  - è¦†è“‹ä¸»è¦ Markdown èªæ³•

## å¾…å¯¦ç¾åŠŸèƒ½

### ğŸš§ Phase 2: é€²éšåŠŸèƒ½
- [ ] **å®Œæ•´ PDF æ”¯æ´**
  - æ•´åˆ Puppeteer
  - HTML è½‰ PDF
  - é é¦–é å°¾æ”¯æ´

- [ ] **Mermaid å®Œæ•´æ¸²æŸ“**
  - Puppeteer ç„¡é ­ç€è¦½å™¨æ•´åˆ
  - 8 ç¨®åœ–è¡¨é¡å‹æ”¯æ´
  - é›¢ç·šæ¸²æŸ“

- [ ] **æ‰¹æ¬¡è™•ç†**
  - Glob æ¨¡å¼æª”æ¡ˆåŒ¹é…
  - å¹³è¡Œè™•ç†
  - é€²åº¦æ¢é¡¯ç¤º

- [ ] **é…ç½®ç³»çµ±**
  - YAML/JSON é…ç½®æª”
  - å¤šå±¤ç´šé…ç½®åˆä½µ
  - é…ç½®é©—è­‰

### ğŸš§ Phase 3: æ“´å±•åŠŸèƒ½
- [ ] **VSCode å»¶ä¼¸å¥—ä»¶**
  - å³éµé¸å–®æ•´åˆ
  - å‘½ä»¤é¢æ¿
  - é è¦½åŠŸèƒ½
  - ç‹€æ…‹åˆ—é¡¯ç¤º

- [ ] **MCP Server**
  - MCP å”è­°å¯¦ä½œ
  - Claude Desktop æ•´åˆ
  - å·¥å…·å®šç¾©

## é–‹ç™¼ç’°å¢ƒè¨­å®š

### å¿…è¦æ¢ä»¶
- Node.js 18+
- npm æˆ– yarn
- TypeScript 5.3+

### å®‰è£ä¾è³´
```bash
npm install
```

### é–‹ç™¼æŒ‡ä»¤

**å»ºç½®å°ˆæ¡ˆ**
```bash
npm run build
```

**é–‹ç™¼æ¨¡å¼ï¼ˆè‡ªå‹•é‡å»ºï¼‰**
```bash
npm run dev
```

**åŸ·è¡Œæ¸¬è©¦**
```bash
npm test
```

**æ¸¬è©¦ç›£çœ‹æ¨¡å¼**
```bash
npm run test:watch
```

**ç¨‹å¼ç¢¼æª¢æŸ¥**
```bash
npm run lint
```

**æ ¼å¼åŒ–ç¨‹å¼ç¢¼**
```bash
npm run format
```

## å°ˆæ¡ˆæ¶æ§‹

```
md2doc/
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ spec/              # è¦æ ¼æ–‡æª”
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/              # æ ¸å¿ƒåŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ parser.ts      # Markdown è§£æå™¨
â”‚   â”‚   â”œâ”€â”€ image-handler.ts
â”‚   â”‚   â”œâ”€â”€ mermaid-renderer.ts
â”‚   â”‚   â””â”€â”€ theme-loader.ts
â”‚   â”œâ”€â”€ converters/        # æ ¼å¼è½‰æ›å™¨
â”‚   â”‚   â”œâ”€â”€ word-converter.ts
â”‚   â”‚   â””â”€â”€ pdf-converter.ts
â”‚   â”œâ”€â”€ cli/               # CLI å·¥å…·
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ types/             # TypeScript é¡å‹å®šç¾©
â”‚   â”‚   â”œâ”€â”€ ast.ts
â”‚   â”‚   â””â”€â”€ config.ts
â”‚   â”œâ”€â”€ converter.ts       # ä¸»è½‰æ›å™¨
â”‚   â””â”€â”€ index.ts           # ä¸»å…¥å£
â”œâ”€â”€ dist/                  # ç·¨è­¯è¼¸å‡ºï¼ˆgit ignoreï¼‰
â”œâ”€â”€ node_modules/          # ä¾è³´å¥—ä»¶ï¼ˆgit ignoreï¼‰
â”œâ”€â”€ example.md             # ç¯„ä¾‹æª”æ¡ˆ
â”œâ”€â”€ package.json           # å°ˆæ¡ˆé…ç½®
â”œâ”€â”€ tsconfig.json          # TypeScript é…ç½®
â””â”€â”€ jest.config.js         # Jest æ¸¬è©¦é…ç½®
```

## ç¨‹å¼ç¢¼é¢¨æ ¼

- ä½¿ç”¨ TypeScript åš´æ ¼æ¨¡å¼
- ESLint + Prettier æ ¼å¼åŒ–
- å‡½æ•¸å’Œé¡åˆ¥éœ€è¦ JSDoc è¨»è§£
- ä½¿ç”¨ async/await è™•ç†éåŒæ­¥æ“ä½œ
- éŒ¯èª¤è™•ç†ä½¿ç”¨ try-catch
- å–®ä¸€è·è²¬åŸå‰‡

## æ¸¬è©¦ç­–ç•¥

### å–®å…ƒæ¸¬è©¦
- æ¯å€‹æ ¸å¿ƒæ¨¡çµ„éƒ½æœ‰å°æ‡‰æ¸¬è©¦
- ä½¿ç”¨ Jest æ¡†æ¶
- ç›®æ¨™è¦†è“‹ç‡ > 80%

### æ•´åˆæ¸¬è©¦
- æ¸¬è©¦å®Œæ•´è½‰æ›æµç¨‹
- é©—è­‰è¼¸å‡ºæª”æ¡ˆæ ¼å¼
- æ¸¬è©¦å„ç¨® Markdown èªæ³•çµ„åˆ

### E2E æ¸¬è©¦
- CLI å‘½ä»¤æ¸¬è©¦
- æ‰¹æ¬¡è™•ç†æ¸¬è©¦
- éŒ¯èª¤è™•ç†æ¸¬è©¦

## è²¢ç»æŒ‡å—

1. Fork å°ˆæ¡ˆ
2. å»ºç«‹åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤è®Šæ›´ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. é–‹å•Ÿ Pull Request

### Pull Request æª¢æŸ¥æ¸…å–®
- [ ] æ‰€æœ‰æ¸¬è©¦é€šé
- [ ] æ–°åŠŸèƒ½æœ‰å°æ‡‰æ¸¬è©¦
- [ ] ç¨‹å¼ç¢¼ç¬¦åˆé¢¨æ ¼æŒ‡å—
- [ ] æ›´æ–°ç›¸é—œæ–‡æª”
- [ ] é€šé CodeQL å®‰å…¨æƒæ

## ç™¼å¸ƒæµç¨‹

1. æ›´æ–°ç‰ˆæœ¬è™Ÿï¼ˆéµå¾ª SemVerï¼‰
2. æ›´æ–° CHANGELOG
3. åŸ·è¡Œå®Œæ•´æ¸¬è©¦å¥—ä»¶
4. å»ºç½®å°ˆæ¡ˆ
5. å»ºç«‹ Git tag
6. ç™¼å¸ƒåˆ° npm

## ç–‘é›£æ’è§£

### TypeScript ç·¨è­¯éŒ¯èª¤
```bash
# æ¸…ç†ä¸¦é‡å»º
rm -rf dist/
npm run build
```

### æ¸¬è©¦å¤±æ•—
```bash
# æ¸…ç†å¿«å–ä¸¦é‡æ–°æ¸¬è©¦
npm test -- --clearCache
npm test
```

### ä¾è³´å•é¡Œ
```bash
# é‡æ–°å®‰è£ä¾è³´
rm -rf node_modules package-lock.json
npm install
```

## æ•ˆèƒ½å„ªåŒ–å»ºè­°

1. **å¤§å‹æ–‡ä»¶è™•ç†**
   - ä½¿ç”¨ä¸²æµè™•ç†
   - åˆ†å¡Šè®€å–
   - è¨˜æ†¶é«”ç®¡ç†

2. **æ‰¹æ¬¡è½‰æ›**
   - å¹³è¡Œè™•ç†
   - Worker threads
   - é€²åº¦å›å ±

3. **åœ–ç‰‡è™•ç†**
   - å¿«å–æ©Ÿåˆ¶
   - åœ–ç‰‡å£“ç¸®
   - å»¶é²è¼‰å…¥

## ç›¸é—œè³‡æº

- [Markdown è¦ç¯„](https://commonmark.org/)
- [GitHub Flavored Markdown](https://github.github.com/gfm/)
- [docx æ–‡æª”](https://docx.js.org/)
- [Puppeteer æ–‡æª”](https://pptr.dev/)
- [Mermaid æ–‡æª”](https://mermaid.js.org/)

## æˆæ¬Š

MIT License

## è¯çµ¡æ–¹å¼

- GitHub Issues: [å°ˆæ¡ˆ Issues é é¢]
- Email: [å¾…å¡«å¯«]
